<!DOCTYPE html>
<html>
  <head>
    <title>自定义组件</title>
    <script src="../vue.js"></script>
  </head>

  <body>
    <!-- 自定义组件 -->
    <div id="app">
      <!-- 表单输入绑定 -->
      <input v-model="course" type="text" v-on:keydown.enter="addCourse" />
      <!-- 事件处理 -->
      <button v-on:click="addCourse">新增课程</button>
      <course-list :courses="courses"></course-list>
    </div>
    <script>
      // 注册course-list组件
      Vue.component('course-list', {
        data() {
          return {
            // 改状态属于course-list内部状态，因此作为数据
            selectedCourse: '',
          };
        },
        props: {
          // 新增课程时也要访问courses，因此作为属性传递
          courses: { type: Array, default: [] },
        },
        template: `<div><!-- 条件渲染 --> <p v-if="courses.length == 0">没有任何课程信息</p> <!-- 列表渲染 --> <ul><!-- class绑定 --> <li v-for="c in courses" :class="{active: (selectedCourse === c)}" @click="selectedCourse = c">{{c}}</li> <!-- style绑定 --> <!-- <li v-for="c in courses" :style="{backgroundColor: (selectedCourse === c)?'#ddd':'transparent'}" @click="selectedCourse = c">{{c}}</li> --> </ul> </div> `,
      });
      const app = new Vue({
        el: '#app',
        data: { title: '开课吧购物车', courses: ['web全栈', 'web高级'],course:'' },
        methods: {
          addCourse() {
            this.courses.push(this.course);
          },
        },
      });
    </script>
  </body>
</html>
